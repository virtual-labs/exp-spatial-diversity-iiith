<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spatial Diversity Simulation</title>
    <link rel="stylesheet" href="css/main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.8-b/css/style.min.css">
</head>

<body>
    <section class="fre">
        <div class="max-width">
            <h2 class="title">Spatial Diversity: SIMO and MISO Systems</h2>

            <div class="tab">
                <button class="tablinks active" onclick="openPart(event, 'Simulation')" id="default">Interactive
                    Simulation</button>
                <button class="tablinks" onclick="openPart(event, 'Performance')">Performance Analysis</button>
            </div>

            <div id="Simulation" class="tabcontent" style="display: block;">
                
                <div class="v-collapsible-instruction-container v-instruction-container">
                    <div class="v-collapsible is-size-5">Instructions</div>
                    <div class="v-content">
						<div class="'v-content-inner" style="text-align: left !important;">
							<p>Follow these steps to explore the interactive simulation:</p>
							<ol>
								<li>Select the <strong>System Type</strong> (SIMO/MISO) and <strong>Number of Antennas</strong>.</li>
								<li>Enter values for <strong>Transmit Power</strong> and <strong>Noise Power</strong> in dBm.</li>
								<li>Click <strong>"Generate Channels"</strong> to create a random channel scenario and see the initial diagram and outputs.</li>
								<li>Select a different <strong>Combining Method</strong> from the dropdown to instantly see how it affects the results for the same channels.</li>
								<li>Click <strong>"Reset"</strong> to clear the simulation and start over.</li>
							</ol>
						</div>
                    </div>
                </div>

                <div class="columns-container">
                    <div class="left-column box">
                        <h3><b>Simulation Controls</b></h3>
                        <div id="error-message" class="alert alert-danger" style="display: none;"></div>
                        <form id="system-form" class="p-3">
                            <div class="form-group mb-3">
                                <label for="system-type" class="form-label fw-bold">System Type:</label>
                                <select id="system-type" class="form-select form-select-sm">
                                    <option value="SIMO">SIMO</option>
                                    <option value="MISO">MISO</option>
                                </select>
                            </div>
                            <div class="form-group mb-3">
                                <label for="num-antennas" class="form-label fw-bold">Number of Antennas:</label>
                                <input type="number" id="num-antennas" min="1" max="8" value="4"
                                    class="form-control form-control-sm">
                            </div>

                            <div class="input-group">
                                <label for="avg-snr">Average SNR per Branch (dB):</label>
                                <input type="number" id="avg-snr" value="10" step="1" min="-10" max="30">
                            </div>

                            <div class="form-group mb-3">
                                <label for="combining-method" class="form-label fw-bold">Combining Method:</label>
                                <select id="combining-method" class="form-select form-select-sm">
                                    <option value="MRC">Maximal Ratio Combining (MRC)</option>
                                    <option value="EGC">Equal Gain Combining (EGC)</option>
                                    <option value="SC">Selection Combining (SC)</option>
                                </select>
                            </div>
                            <div class="form-group d-grid gap-2">
                                <button type="button" id="generate-diagram" class="btn btn-primary">Generate
                                    Channels</button>
                                <button type="button" id="apply-diversity" class="btn btn-success"
                                    style="display: none;">Apply Method</button>
                                <button type="button" id="reset-experiment" class="btn btn-secondary"
                                    style="display: none;">Reset</button>
                            </div>
                        </form>
                    </div>

                    <div class="center-column box">
                        <h3><b>Simulation Area</b></h3>
                        <div id="diagram-container">
                            <svg id="diagram"></svg>
                        </div>
                    </div>

                    <div class="right-column box">
                        <h3><b>Outputs</b></h3>
                        <div id="metrics-container"></div>
                        <div id="table-container"></div>
                    </div>
                </div>
            </div>

            <div id="Performance" class="tabcontent">

                <div class="v-collapsible-instruction-container v-instruction-container">
                    <div class="v-collapsible is-size-5">Instructions</div>
                    <div class="v-content">
						<div class="v-content-inner" style="text-align: left !important;">
							<p>Follow these steps to generate the performance plot:</p>
							<ol>
								<li>Select the <strong>Number of Antennas (N)</strong> you want to simulate.</li>
								<li>Set the <strong>SNR Threshold (γ<sub>th</sub>)</strong>. This is the minimum acceptable SNR for a connection to be considered successful (not in "outage").</li>
								<li>Enter the number of <strong>Monte Carlo Trials</strong>. A higher number gives a smoother, more accurate plot but takes longer to compute.</li>
								<li>Click <strong>"Generate Plot"</strong> to run the simulation and display the curves.</li>
							</ol>
						</div>
                    </div>
                </div>

                <div class="columns-container">
                    <div class="left-column box">
                        <h3><b>Plot Controls</b></h3>
                        <p>Generate an Outage Probability (P<sub>out</sub>) plot using a Monte Carlo simulation.</p>
                        <form id="plot-form" class="p-3">
                            <div class="form-group mb-3">
                                <label for="plot-num-antennas" class="form-label fw-bold">Number of Antennas
                                    (N):</label>
                                <input type="number" id="plot-num-antennas" min="1" max="8" value="4"
                                    class="form-control form-control-sm">
                            </div>
                            <div class="form-group mb-3">
                                <label for="snr-threshold" class="form-label fw-bold">SNR Threshold (γ<sub>th</sub>) in
                                    dB:</label>
                                <input type="number" id="snr-threshold" value="5" class="form-control form-control-sm">
                            </div>
                            <div class="input-group">
                                <label for="num-trials">Monte Carlo Trials:</label>
                                <select id="num-trials">
                                    <option value="1000">1,000</option>
                                    <option value="10000" selected>10,000</option>
                                    <option value="100000">100,000</option>
                                </select>
                            </div>
                            <div class="form-group d-grid gap-2">
                                <button type="button" id="generate-plot-button" class="btn btn-primary">Generate
                                    Plot</button>
                            </div>
                            <div id="plot-status" class="alert alert-info mt-3" style="display: none;"></div>
                        </form>
                    </div>
                    <div class="center-column box" style="flex: 2.5;">
                        <h3 style="text-align: center;"><b>Outage Probability vs. Average SNR per Branch</b></h3>
                        <div id="plot-container">
                            <svg id="pout-plot"></svg>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.8-b/js/script.js"></script>
    <script src="js/main.js"></script>
<script src="../assets/js/iframeResize.js"></script>
        
        </body>

</html>